(function(){"use strict";var e={2974:function(e,r,t){var n=t(144),a=t(998),i=t(6072),u=t(3059),c=t(8718),s=function(){var e=this,r=e._self._c;return r(a.Z,{staticClass:"app__wrapper"},[r(i.Z,{attrs:{app:"",color:"primary",dark:""}},[r("div",{staticClass:"d-flex align-center"},[r("span",{staticClass:"header__title"},[e._v("Currency Converter")])]),r(c.Z)],1),r(u.Z,[r("div",{staticClass:"converter__wrapper"},[r("ConverterComponent",{attrs:{title:"У меня есть",availableCurrency:e.avaibleCurrencies,wantBuyCurrencies:e.wantBuyCurrencies,changeAvailableCurrency:e.setaAaibleCurrencies,main:!0}}),r("div",{staticClass:"converter-arrows"}),r("ConverterComponent",{attrs:{title:"Хочу приобрести",availableCurrency:e.wantBuyCurrencies,wantBuyCurrencies:e.avaibleCurrencies,changeAvailableCurrency:e.setwWantBuyCurrencies}})],1)])],1)},l=[],o=t(6570),C=t(5808),p=t(4525),v=t(1440),h=t(9891),y=t(2082),f=function(){var e=this,r=e._self._c;return r("div",{staticClass:"converter-wrap d-flex flex-column"},[r("span",{staticClass:"my-3"},[e._v(e._s(e.title??"Валюта"))]),r("div",{staticClass:"btn__wrapper"},[e._l(e.popularCurrencies,(function(t){return r("MainBtn",{key:t.ID,attrs:{changeAvailableCurrency:e.listCurrencyClick,currency:t,active:e.availableCurrency.ID===t.ID}})})),r("MainBtn",{attrs:{currency:e.defaultLastCurrencie,changeAvailableCurrency:e.listCurrencyClick,active:e.defaultLastCurrencie.ID===e.availableCurrency.ID}},[e._v(e._s(e.defaultLastCurrencie.CharCode))]),r(h.Z,{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:t,attrs:n}){return[r(o.Z,e._g(e._b({attrs:{depressed:"",color:"white"}},"v-btn",n,!1),t),[e._v("↓")])]}}])},[r(C.Z,{staticClass:"list-wrap px-4"},e._l(e.allCurrencies,(function(t){return r(p.Z,{key:t.ID,on:{click:function(r){return e.listCurrencyClick(t)}}},[t.Name.length>22?r(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:a}){return[r(v.V9,e._g(e._b({},"v-list-item-title",a,!1),n),[e._v(e._s(t.Name))])]}}],null,!0)},[r("span",[e._v(e._s(t.Name))])]):r(v.V9,[e._v(e._s(t.Name))])],1)})),1)],1)],2),r("ConverterInput",{staticClass:"my-6",attrs:{wantBuyCurrencies:e.wantBuyCurrencies,availableCurrency:e.availableCurrency,changeAvailableCurrency:e.changeAvailableCurrency},model:{value:e.inputValue,callback:function(r){e.inputValue=r},expression:"inputValue"}})],1)},d=[],b=function(){var e=this,r=e._self._c;return r(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t,attrs:n}){return[r(o.Z,e._g(e._b({staticClass:"py-3",class:{active:e.active},attrs:{depressed:"",color:"white"},on:{click:function(r){return e.changeAvailableCurrency(e.currency,!0)}}},"v-btn",n,!1),t),[e._v(" "+e._s(e.currency.CharCode)+" ")])]}}])},[r("span",[e._v(e._s(e.currency.Name))])])},m=[],_={props:["currency","active","changeAvailableCurrency"],data(){return{}}},g=_,w=t(3736),B=(0,w.Z)(g,b,m,!1,null,"13536396",null),k=B.exports,Z=t(5707),x=function(){var e=this,r=e._self._c;return r("div",{staticClass:"my-input"},[r(Z.Z,{key:e.inputKey,ref:"convertInput",attrs:{value:e.value,"single-line":"",dense:"",height:"57","hide-details":"",type:"number"},on:{input:e.inputChange,keypress:e.filterWithoutE}}),r("div",{staticClass:"mt-8"},[e._v(" 1 "+e._s(e.availableCurrency.CharCode)+" = "+e._s(e.readbleNumber(e.calculationCourse(1,e.wantBuyCurrencies,e.availableCurrency)))+" "+e._s(e.wantBuyCurrencies.CharCode)+" ")])],1)},N=[],A={props:["wantBuyCurrencies","availableCurrency","value"],data(){return{inputKey:0}},inject:["calculationCourse","readbleNumber"],methods:{inputChange(e){e.length<11?this.$emit("input",e):(this.inputKey++,this.$nextTick((()=>{this.$refs.convertInput.focus()})))},filterWithoutE(e){let r=e.target.value.toString()+e.key.toString();if(/^[-+]?[0-9]*\.?[0-9]*$/.test(r))return!0;e.preventDefault()}}},O=A,V=(0,w.Z)(O,x,N,!1,null,null,null),I=V.exports,S=t(629),j=t(5910),D={props:["title","availableCurrency","changeAvailableCurrency","wantBuyCurrencies","main"],components:{MainBtn:k,ConverterInput:I},data(){return{defaultLastCurrencie:{},inputValue:"",colorBtn:"white",currencyChange:!1}},methods:{listCurrencyClick(e,r=!1){if(!this.main){e.currencyChange=!0,this.currencyChange=!0;const r=this.calculationCourse(this.wantBuyCurrencies.inputValue,e,this.wantBuyCurrencies);this.inputValue=r?this.readbleNumber(r):""}r||(this.defaultLastCurrencie=e),this.changeAvailableCurrency(e)},calculationCourse(e,r=this.availableCurrency,t=this.wantBuyCurrencies){const n=j.fx.convert(e,{from:r.CharCode,to:t.CharCode});return isNaN(n)?"":n},readbleNumber(e){return Number.isInteger(e)?e:e.toFixed(4)}},computed:{...(0,S.rn)(["currencies"]),...(0,S.Se)(["popularCurrencies","allCurrencies"])},provide:function(){return{calculationCourse:this.calculationCourse,readbleNumber:this.readbleNumber}},watch:{availableCurrency(e){0===Object.keys(this.defaultLastCurrencie).length&&(this.defaultLastCurrencie=this.currencies.find((e=>"GBP"===e.CharCode)))},wantBuyCurrencies(e){if(this.main&&e.currencyChange)return;const r=this.calculationCourse(e.inputValue),t=Math.abs(Number.parseFloat(r)-Number.parseFloat(""===this.inputValue?0:this.inputValue));t>.005&&(this.inputValue=0!==r?this.readbleNumber(r):"")},inputValue(e){this.main||!this.currencyChange?this.changeAvailableCurrency({inputValue:e,currencyChange:!1}):this.currencyChange=!1}}},P=D,R=(0,w.Z)(P,f,d,!1,null,"ded5eb62",null),U=R.exports,L={name:"App",components:{ConverterComponent:U},data:()=>({}),methods:{...(0,S.OI)(["setaAaibleCurrencies","setwWantBuyCurrencies"]),...(0,S.nv)(["downloadCurrencies"])},computed:{...(0,S.rn)(["avaibleCurrencies","wantBuyCurrencies"])},mounted(){this.downloadCurrencies()}},M=L,T=(0,w.Z)(M,s,l,!1,null,null,null),W=T.exports,E=(t(7658),t(9669)),$=t.n(E);n.ZP.use(S.ZP);const F={CharCode:"RUR",Name:"Российский рубль",ID:"ID_RUR"},K=e=>"EUR"===e.CharCode||"USD"===e.CharCode||"RUR"===e.CharCode;var G=new S.ZP.Store({state:{currencies:[F],avaibleCurrencies:{},wantBuyCurrencies:{}},getters:{popularCurrencies(e){return e.currencies.filter((e=>K(e)))},allCurrencies(e){return e.currencies.filter((e=>!K(e)))}},mutations:{setCurrencies(e,r){e.currencies=[F,...r]},setaAaibleCurrencies(e,r){e.avaibleCurrencies={...e.avaibleCurrencies,...r}},setwWantBuyCurrencies(e,r){e.wantBuyCurrencies={...e.wantBuyCurrencies,...r}}},actions:{async downloadCurrencies({commit:e,state:r}){const t="https://www.cbr-xml-daily.ru/daily_json.js";try{const{data:n}=await $().get(t),a=n.Valute,i=[];j.fx.base="RUR";for(const e in a)i.push({...a[e]}),j.fx.rates[e]=a[e].Value;if(j.fx.rates.RUR=1,0===Object.keys(r.avaibleCurrencies).length){const r=i.find((e=>"USD"===e.CharCode));e("setaAaibleCurrencies",F),e("setwWantBuyCurrencies",r)}e("setCurrencies",i)}catch(n){console.Error(n)}}},modules:{}}),q=t(1705);n.ZP.use(q.Z);var z=new q.Z({theme:{themes:{light:{primary:"#16b67f",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}}});n.ZP.config.productionTip=!1,new n.ZP({store:G,vuetify:z,render:e=>e(W)}).$mount("#app")}},r={};function t(n){var a=r[n];if(void 0!==a)return a.exports;var i=r[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(r,n,a,i){if(!n){var u=1/0;for(o=0;o<e.length;o++){n=e[o][0],a=e[o][1],i=e[o][2];for(var c=!0,s=0;s<n.length;s++)(!1&i||u>=i)&&Object.keys(t.O).every((function(e){return t.O[e](n[s])}))?n.splice(s--,1):(c=!1,i<u&&(u=i));if(c){e.splice(o--,1);var l=a();void 0!==l&&(r=l)}}return r}i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[n,a,i]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,n){var a,i,u=n[0],c=n[1],s=n[2],l=0;if(u.some((function(r){return 0!==e[r]}))){for(a in c)t.o(c,a)&&(t.m[a]=c[a]);if(s)var o=s(t)}for(r&&r(n);l<u.length;l++)i=u[l],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(o)},n=self["webpackChunkcurrencyconverter"]=self["webpackChunkcurrencyconverter"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(2974)}));n=t.O(n)})();
//# sourceMappingURL=app.fca47324.js.map